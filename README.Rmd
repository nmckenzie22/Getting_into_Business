---
title: "README"
output: 
  github_document:
    pandoc_args: ["--wrap=none"]
always_allow_html: true
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## Download Dataset
```{r}
# Define the download URL
kaggle_url <- "https://www.kaggle.com/api/v1/datasets/download/fratzcan/usa-house-prices"

# Define the output file path
output_file <- file.path("./", "usa-house-prices.zip")

# Run the cURL command in R
system(paste("curl -L -o", shQuote(output_file), shQuote(kaggle_url)))

# Optional: Unzip the file
unzip(output_file, exdir = "./usa-house-prices")

# Confirm download
list.files("~/Downloads/usa-house-prices")
```

When was the data acquired?
Where was the data acquired?

How was the data acquired?

What are the attributes of this dataset?
Below is R script code that loads the USA Housing Dataset and creates a data dictionary table based on the descriptions provided on Kaggle.
```{r}
#install.packages("readr")   # For reading CSV files
#install.packages("dplyr")   # For data manipulation
#install.packages("knitr")   # For creating a table
#install.packages("kableExtra") # For formatting tables


library(readr)
library(dplyr)
library(knitr)
library(kableExtra)

# Load the dataset (update the path if needed)
dataset <- read_csv("~/Downloads/USA_Housing_Dataset.csv")

# View first few rows
head(dataset)

# Define the updated data dictionary with correct types and levels of measurement
data_dictionary <- tibble::tibble(
  Variable = c("Price", "Bedrooms", "Bathrooms", "Sqft Living", "Sqft Lot", 
               "Floors", "Waterfront", "View", "Condition", "Sqft Above", 
               "Sqft Basement", "Yr Built", "Yr Renovated", "Street", 
               "City", "StateZip", "Country", 
               "Median Area Income", "Median Area House Age", 
               "Median Area Number of Rooms", "Median Area Number of Bedrooms", "Area Population"),
  Type = c("Ratio", "Ratio", "Ratio", "Ratio", "Ratio", 
           "Ratio", "Nominal", "Ordinal", "Ordinal", "Ratio", 
           "Ratio", "Interval", "Interval", "Nominal", 
           "Nominal", "Nominal", "Nominal", 
           "Ratio", "Ratio", 
           "Ratio", "Ratio", "Ratio"),
  Description = c("Sale price of the house (in USD).",
                  "Number of bedrooms in the house.",
                  "Number of bathrooms in the house.",
                  "Total living area in square feet.",
                  "Total lot size in square feet.",
                  "Number of floors in the house.",
                  "Indicates if the house is on the waterfront (Yes/No).",
                  "A rating of the house's view quality.",
                  "Condition of the house (1-5 scale, where 5 is the best).",
                  "Square footage of the house above ground.",
                  "Square footage of the basement.",
                  "Year the house was built.",
                  "Year the house was last renovated.",
                  "Street address of the house.",
                  "City where the house is located.",
                  "State and ZIP code of the house.",
                  "Country where the house is located.",
                  "Median income of residents in the area (in USD).",
                  "Median age of houses in the area.",
                  "Median number of rooms in houses in the area.",
                  "Median number of bedrooms in houses in the area.",
                  "Population of the area.")
)

# Print the data dictionary as a formatted table
data_dictionary %>%
  kable("pipe") %>%
  kable_styling(full_width = FALSE, bootstrap_options = c("striped", "hover"))
```

Now we can take a further look at the data to gain initial insights and have an overview of the statistics. 
We can do this by performing a basic Exploratory Data Analysis (EDA). The code below will display the summary statistics from the dataset.

```{r}
# Install required packages (if not already installed)
#install.packages("readr")      # For reading CSV files
#install.packages("dplyr")      # For data manipulation
#install.packages("ggplot2")    # For visualizations
#install.packages("skimr")      # For detailed summary statistics
#install.packages("modeest")    # For calculating mode
# Load libraries
library(readr)
library(dplyr)
library(ggplot2)
library(skimr)
library(modeest)
# Load the dataset (update the path if needed)
dataset <- read_csv("~/Downloads/USA_Housing_Dataset.csv")
# Display first few rows
head(dataset)
# Check structure of dataset
str(dataset)
# Basic summary statistics
summary(dataset)
# Additional summary statistics using skimr
skim(dataset)
# Function to calculate mode
get_mode <- function(x) {
  mfv <- mfv(x, na_rm = TRUE)  # Most frequent value
  return(mfv)
}
# Calculate mode for numeric columns
numeric_cols <- dataset %>% select(where(is.numeric))
mode_values <- sapply(numeric_cols, get_mode)
# Print mode values
print(mode_values)
```

## Missing Values
Next we need to identify any missing or empty values. The code below will allow us to identify the values. 

```{r}
# Check for missing values (NA counts per column)
missing_values <- colSums(is.na(dataset))
# Print missing values summary
print(missing_values)
```
Thankfully this dataset has no missing values in any of the variables as shown above. If there were any missing values or empty values, some strategies that we could do would be to fill in the missing values with the median for that variable and then conduct a sensitivity analysis. 

## Visualizations

From the code below we will be able to see a histogram of the House Prices. 
```{r}
ggplot(dataset, aes(x = `price`)) +  # Ensure correct column name
  geom_histogram(bins = 50, fill = "blue", color = "black", alpha = 0.7) +
  labs(title = "Distribution of House Prices", x = "Price (USD)", y = "Count") +
  theme_minimal()
```




